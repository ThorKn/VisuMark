

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Dashorder.webapp.dash.dashexample &mdash; Dashorder 0.0.post0.dev217+gbd9aeab.dirty documentation</title>








  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>


      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../_static/language_data.js"></script>

    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>




  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
</head>

<body class="wy-body-for-nav">


  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >



            <a href="../../../../index.html" class="icon icon-home"> Dashorder



          </a>




              <div class="version">
                0.0.post0.dev217+gbd9aeab.dirty
              </div>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">






              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/modules.html">Module Reference</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" aria-label="top navigation">

          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Dashorder</a>

      </nav>


      <div class="wy-nav-content">

        <div class="rst-content">

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">

      <li><a href="../../../../index.html">Docs</a> &raquo;</li>

          <li><a href="../../../index.html">Module code</a> &raquo;</li>

          <li><a href="../../webapp.html">Dashorder.webapp</a> &raquo;</li>

      <li>Dashorder.webapp.dash.dashexample</li>


      <li class="wy-breadcrumbs-aside">

      </li>

  </ul>


  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <h1>Source code for Dashorder.webapp.dash.dashexample</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">dash</span>
<span class="kn">import</span> <span class="nn">dash_core_components</span> <span class="k">as</span> <span class="nn">dcc</span>
<span class="kn">import</span> <span class="nn">dash_html_components</span> <span class="k">as</span> <span class="nn">html</span>
<span class="kn">import</span> <span class="nn">dateutil.parser</span>
<span class="kn">from</span> <span class="nn">dash.dependencies</span> <span class="k">import</span> <span class="n">Input</span><span class="p">,</span> <span class="n">Output</span><span class="p">,</span> <span class="n">State</span>
<span class="kn">from</span> <span class="nn">dash.exceptions</span> <span class="k">import</span> <span class="n">PreventUpdate</span>
<span class="kn">from</span> <span class="nn">flask_login</span> <span class="k">import</span> <span class="n">login_required</span>

<span class="kn">from</span> <span class="nn">Dashorder.config.config</span> <span class="k">import</span> <span class="n">div_tree</span><span class="p">,</span> <span class="n">header_dict</span>
<span class="kn">from</span> <span class="nn">Dashorder.webapp</span> <span class="k">import</span> <span class="n">cfg_graph</span><span class="p">,</span> <span class="n">stats</span>
<span class="kn">from</span> <span class="nn">Dashorder.billbee.bbhandler</span> <span class="k">import</span> <span class="n">BbHandler</span>

<span class="n">dash_base_url</span> <span class="o">=</span> <span class="s1">&#39;/dashapp1/&#39;</span>


<span class="k">def</span> <span class="nf">_protect_dashviews</span><span class="p">(</span><span class="n">dash_app</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">view_func</span> <span class="ow">in</span> <span class="n">dash_app</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">view_functions</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">view_func</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">dash_app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">url_base_pathname</span><span class="p">):</span>
            <span class="n">dash_app</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">view_functions</span><span class="p">[</span><span class="n">view_func</span><span class="p">]</span> <span class="o">=</span> \
                <span class="n">login_required</span><span class="p">(</span><span class="n">dash_app</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">view_functions</span><span class="p">[</span><span class="n">view_func</span><span class="p">])</span>


<div class="viewcode-block" id="Add_Dash"><a class="viewcode-back" href="../../../../api/Dashorder.webapp.dash.html#Dashorder.webapp.dash.dashexample.Add_Dash">[docs]</a><span class="k">def</span> <span class="nf">Add_Dash</span><span class="p">(</span><span class="n">server</span><span class="p">):</span>
    <span class="n">external_stylesheets</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;https://codepen.io/chriddyp/pen/bWLwgP.css&#39;</span><span class="p">]</span>
    <span class="n">meta_viewport</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;viewport&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;</span><span class="p">}</span>

    <span class="n">dash_app</span> <span class="o">=</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span>
                         <span class="n">server</span><span class="o">=</span><span class="n">server</span><span class="p">,</span>
                         <span class="n">url_base_pathname</span><span class="o">=</span><span class="n">dash_base_url</span><span class="p">,</span>
                         <span class="n">external_stylesheets</span><span class="o">=</span><span class="n">external_stylesheets</span><span class="p">,</span>
                         <span class="n">meta_tags</span><span class="o">=</span><span class="p">[</span><span class="n">meta_viewport</span><span class="p">])</span>

    <span class="n">dash_app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;suppress_callback_exceptions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Build initial cfg_graph</span>
    <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s1">&#39;ZIN&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="s1">&#39;UMS&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="s1">&#39;ALL&#39;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span> <span class="o">=</span> <span class="n">convert_zin</span><span class="p">(</span><span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span><span class="p">)</span>

    <span class="c1"># -----------------------------------------</span>
    <span class="c1"># HTML Layout</span>
    <span class="c1"># -----------------------------------------</span>
    <span class="k">with</span> <span class="n">server</span><span class="o">.</span><span class="n">app_context</span><span class="p">():</span>
        <span class="n">dash_app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;output-clientside&quot;</span><span class="p">),</span>
                <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">get_div</span><span class="p">(</span><span class="o">*</span><span class="n">div_tree</span><span class="p">[</span><span class="s1">&#39;x_A&#39;</span><span class="p">]),</span>
                        <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                            <span class="p">[</span>
                                <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                                    <span class="p">[</span>
                                        <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                                            <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;X-Achse:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="s1">&#39;ZIN&#39;</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_x&quot;</span><span class="p">)],</span>
                                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;wells&quot;</span><span class="p">,</span>
                                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mini_container&quot;</span><span class="p">,</span>
                                        <span class="p">),</span>
                                        <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                                            <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Y-Achse:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="s1">&#39;UMS&#39;</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_y&quot;</span><span class="p">)],</span>
                                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;gas&quot;</span><span class="p">,</span>
                                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mini_container&quot;</span><span class="p">,</span>
                                        <span class="p">),</span>
                                        <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                                            <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Graphen:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="s1">&#39;ALL&#39;</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_g&quot;</span><span class="p">)],</span>
                                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;oil&quot;</span><span class="p">,</span>
                                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mini_container&quot;</span><span class="p">,</span>
                                        <span class="p">),</span>
                                        <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                                            <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Toggle X und Graph:&quot;</span><span class="p">),</span>
                                             <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="s2">&quot;Nicht möglich&quot;</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_t&quot;</span><span class="p">)],</span>
                                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;water&quot;</span><span class="p">,</span>
                                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mini_container&quot;</span><span class="p">,</span>
                                        <span class="p">),</span>
                                    <span class="p">],</span>
                                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;info-container&quot;</span><span class="p">,</span>
                                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row container-display&quot;</span><span class="p">,</span>
                                <span class="p">),</span>
                                <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="s1">&#39;590px&#39;</span><span class="p">},</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                                    <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;graph_display&#39;</span><span class="p">,</span>
                                        <span class="n">figure</span><span class="o">=</span><span class="p">{</span>
                                            <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span><span class="p">,</span>
                                            <span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="p">{</span>
                                                <span class="s1">&#39;modebar&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;orientation&#39;</span><span class="p">:</span> <span class="s1">&#39;v&#39;</span><span class="p">},</span>
                                                <span class="s1">&#39;legend&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;orientation&#39;</span><span class="p">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span>
                                                           <span class="s1">&#39;font&#39;</span><span class="p">:</span> <span class="p">{</span>
                                                                <span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span>
                                                                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">font_size_legend</span><span class="p">,</span>
                                                                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span>
                                                            <span class="p">}},</span>
                                                <span class="s1">&#39;font&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span>
                                                         <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">font_size_axis</span><span class="p">,</span>
                                                         <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">},</span>
                                                <span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;l&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_left</span><span class="p">,</span>
                                                           <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_right</span><span class="p">,</span>
                                                           <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_top</span><span class="p">,</span>
                                                           <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_bottom</span><span class="p">}},</span>
                                        <span class="p">},</span>
                                        <span class="n">config</span><span class="o">=</span><span class="p">{</span>
                                            <span class="s1">&#39;edits&#39;</span><span class="p">:</span> <span class="p">{</span>
                                                <span class="s1">&#39;legendPosition&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                                <span class="s1">&#39;legendText&#39;</span><span class="p">:</span> <span class="kc">True</span>
                                            <span class="p">},</span>
                                            <span class="s1">&#39;toImageButtonOptions&#39;</span><span class="p">:</span> <span class="p">{</span>
                                                <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;svg&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="s1">&#39;custom_image&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">1080</span><span class="p">,</span>
                                                <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">1920</span><span class="p">,</span>
                                                <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span>
                                        <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="s1">&#39;inherit&#39;</span><span class="p">})</span>
                                    <span class="p">],</span>
                                    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;countGraphContainer&quot;</span><span class="p">,</span>
                                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;pretty_container&quot;</span><span class="p">,</span>
                                <span class="p">),</span>
                            <span class="p">],</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;right-column&quot;</span><span class="p">,</span>
                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;nine columns&quot;</span><span class="p">,</span>
                        <span class="p">),</span>
                    <span class="p">],</span>
                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;row flex-display&quot;</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">],</span>
            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mainContainer&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;flex&quot;</span><span class="p">,</span> <span class="s2">&quot;flex-direction&quot;</span><span class="p">:</span> <span class="s2">&quot;column&quot;</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="c1"># -----------------------------------------</span>
    <span class="c1"># X-Axis callback</span>
    <span class="c1"># -----------------------------------------</span>
    <span class="nd">@dash_app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
        <span class="p">[</span><span class="n">Output</span><span class="p">(</span><span class="s1">&#39;x_axis_B&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
         <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;y_axis_A&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s1">&#39;x_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)])</span>
    <span class="k">def</span> <span class="nf">render_content</span><span class="p">(</span><span class="n">x_choice</span><span class="p">):</span>
        <span class="n">x_B</span> <span class="o">=</span> <span class="n">get_div</span><span class="p">(</span><span class="o">*</span><span class="n">div_tree</span><span class="p">[</span><span class="n">x_choice</span><span class="p">][</span><span class="s1">&#39;x_B&#39;</span><span class="p">])</span>
        <span class="n">y_A</span> <span class="o">=</span> <span class="n">get_div</span><span class="p">(</span><span class="o">*</span><span class="n">div_tree</span><span class="p">[</span><span class="n">x_choice</span><span class="p">][</span><span class="s1">&#39;y_A&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">x_B</span><span class="p">,</span> <span class="n">y_A</span>

    <span class="c1"># ---------------------------------------</span>
    <span class="c1"># Y-Axis callback</span>
    <span class="c1"># ---------------------------------------</span>
    <span class="nd">@dash_app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>                     <span class="c1"># noqa: F811</span>
        <span class="p">[</span><span class="n">Output</span><span class="p">(</span><span class="s1">&#39;y_axis_B&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
         <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;graphs_A&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s1">&#39;x_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;y_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)])</span>
    <span class="k">def</span> <span class="nf">render_content</span><span class="p">(</span><span class="n">x_choice</span><span class="p">,</span> <span class="n">y_choice</span><span class="p">):</span>
        <span class="c1"># Save the query from wrong leftover values</span>
        <span class="k">if</span> <span class="n">x_choice</span> <span class="ow">in</span> <span class="n">div_tree</span> <span class="ow">and</span> <span class="n">y_choice</span> <span class="ow">in</span> <span class="n">div_tree</span><span class="p">[</span><span class="n">x_choice</span><span class="p">]:</span>
            <span class="n">y_B</span> <span class="o">=</span> <span class="n">get_div</span><span class="p">(</span><span class="o">*</span><span class="n">div_tree</span><span class="p">[</span><span class="n">x_choice</span><span class="p">][</span><span class="n">y_choice</span><span class="p">][</span><span class="s1">&#39;y_B&#39;</span><span class="p">])</span>
            <span class="n">g_A</span> <span class="o">=</span> <span class="n">get_div</span><span class="p">(</span><span class="o">*</span><span class="n">div_tree</span><span class="p">[</span><span class="n">x_choice</span><span class="p">][</span><span class="n">y_choice</span><span class="p">][</span><span class="s1">&#39;g_A&#39;</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">y_B</span><span class="p">,</span> <span class="n">g_A</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">()</span>

    <span class="c1"># ------------------------------------------</span>
    <span class="c1"># Graphs callback (Z-Axis)</span>
    <span class="c1"># ------------------------------------------</span>
    <span class="nd">@dash_app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>                     <span class="c1"># noqa: F811</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;graphs_B&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
        <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s1">&#39;x_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;y_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;graphs_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)])</span>
    <span class="k">def</span> <span class="nf">render_content</span><span class="p">(</span><span class="n">x_choice</span><span class="p">,</span> <span class="n">y_choice</span><span class="p">,</span> <span class="n">g_choice</span><span class="p">):</span>
        <span class="c1"># Save the query from wrong leftover values</span>
        <span class="k">if</span> <span class="n">x_choice</span> <span class="ow">in</span> <span class="n">div_tree</span> <span class="ow">and</span> \
            <span class="n">y_choice</span> <span class="ow">in</span> <span class="n">div_tree</span><span class="p">[</span><span class="n">x_choice</span><span class="p">]</span> <span class="ow">and</span> \
                <span class="n">g_choice</span> <span class="ow">in</span> <span class="n">div_tree</span><span class="p">[</span><span class="n">x_choice</span><span class="p">][</span><span class="n">y_choice</span><span class="p">]:</span>
            <span class="n">g_B</span> <span class="o">=</span> <span class="n">get_div</span><span class="p">(</span><span class="o">*</span><span class="n">div_tree</span><span class="p">[</span><span class="n">x_choice</span><span class="p">][</span><span class="n">y_choice</span><span class="p">][</span><span class="n">g_choice</span><span class="p">][</span><span class="s1">&#39;g_B&#39;</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">g_B</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">()</span>

    <span class="c1"># ---------------------------------------</span>
    <span class="c1"># Choices callback for mini containers</span>
    <span class="c1"># ---------------------------------------</span>
    <span class="nd">@dash_app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
        <span class="p">[</span><span class="n">Output</span><span class="p">(</span><span class="s1">&#39;mini_x&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
         <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;mini_y&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
         <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;mini_g&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s1">&#39;graph_button&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">State</span><span class="p">(</span><span class="s1">&#39;x_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">State</span><span class="p">(</span><span class="s1">&#39;y_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">State</span><span class="p">(</span><span class="s1">&#39;graphs_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)])</span>
    <span class="k">def</span> <span class="nf">update_containers</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">,</span>  <span class="n">x_choice</span><span class="p">,</span> <span class="n">y_choice</span><span class="p">,</span> <span class="n">g_choice</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n_clicks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PreventUpdate</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">m_x</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">x_choice</span><span class="p">])</span>
            <span class="n">m_y</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">y_choice</span><span class="p">])</span>
            <span class="n">m_g</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">g_choice</span><span class="p">])</span>
            <span class="k">return</span> <span class="n">m_x</span><span class="p">,</span> <span class="n">m_y</span><span class="p">,</span> <span class="n">m_g</span>

    <span class="c1"># ------------------------------------------</span>
    <span class="c1"># Button callback (Update Graph)</span>
    <span class="c1"># ------------------------------------------</span>
    <span class="nd">@dash_app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
        <span class="p">[</span><span class="n">Output</span><span class="p">(</span><span class="s1">&#39;temp_output&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
         <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;graph_display&#39;</span><span class="p">,</span> <span class="s1">&#39;figure&#39;</span><span class="p">),</span>
         <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;mini_t&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s1">&#39;graph_button&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">State</span><span class="p">(</span><span class="s1">&#39;x_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">State</span><span class="p">(</span><span class="s1">&#39;x_axis_items&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">State</span><span class="p">(</span><span class="s1">&#39;y_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">State</span><span class="p">(</span><span class="s1">&#39;graphs_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">State</span><span class="p">(</span><span class="s1">&#39;graphs_items&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="p">])</span>
    <span class="k">def</span> <span class="nf">call_evaluate</span><span class="p">(</span><span class="n">g_clicks</span><span class="p">,</span> <span class="n">x_choice</span><span class="p">,</span> <span class="n">x_items</span><span class="p">,</span> <span class="n">y_choice</span><span class="p">,</span> <span class="n">g_choice</span><span class="p">,</span> <span class="n">g_items</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">g_clicks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PreventUpdate</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Handle the None values</span>
            <span class="n">x_items</span><span class="p">,</span> <span class="n">y_items</span><span class="p">,</span> <span class="n">g_items</span> <span class="o">=</span> <span class="n">correct_items</span><span class="p">(</span><span class="n">x_items</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">g_items</span><span class="p">)</span>

            <span class="c1"># Build the answer data (temporarily for development)</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span>
                <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s1">&#39;Es wurde ausgewählt:&#39;</span><span class="p">),</span>
                <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s1">&#39;X-Choice: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_choice</span><span class="p">)),</span>
                <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s1">&#39;X-Items: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_items</span><span class="p">)),</span>
                <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s1">&#39;Y-Choice: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y_choice</span><span class="p">)),</span>
                <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s1">&#39;Y-Items: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y_items</span><span class="p">)),</span>
                <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s1">&#39;G-Choice: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">g_choice</span><span class="p">)),</span>
                <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s1">&#39;G-Items: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">g_items</span><span class="p">))</span>
            <span class="p">])</span>

            <span class="c1"># Get graph data from statistics module</span>
            <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">x_choice</span><span class="p">,</span> <span class="n">x_items</span><span class="p">,</span> <span class="n">y_choice</span><span class="p">,</span> <span class="n">y_items</span><span class="p">,</span> <span class="n">g_choice</span><span class="p">,</span> <span class="n">g_items</span><span class="p">)</span>

            <span class="c1"># Update x- and y-title</span>
            <span class="n">cfg_graph</span><span class="o">.</span><span class="n">x_title</span> <span class="o">=</span> <span class="n">header_dict</span><span class="p">[</span><span class="n">x_choice</span><span class="p">]</span>
            <span class="n">cfg_graph</span><span class="o">.</span><span class="n">y_title</span> <span class="o">=</span> <span class="n">header_dict</span><span class="p">[</span><span class="n">y_choice</span><span class="p">]</span>

            <span class="c1"># Convert datetime if x_choice is &#39;ZIN&#39;</span>
            <span class="k">if</span> <span class="n">x_choice</span> <span class="o">==</span> <span class="s1">&#39;ZIN&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;dummy&#39;</span><span class="p">):</span>
                <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span> <span class="o">=</span> <span class="n">convert_zin</span><span class="p">(</span><span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span><span class="p">)</span>

            <span class="c1"># !!!!!!!!!!!!!!!!!!!!!! THIS IS A TEMPORARY HACK FOR THE CUSTOMER NAMES !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">g_choice</span> <span class="o">==</span> <span class="s1">&#39;KUN&#39;</span><span class="p">):</span>
                <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span> <span class="o">=</span> <span class="n">convert_kun</span><span class="p">(</span><span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span><span class="p">)</span>
            <span class="c1"># !!!!!!!!!!!!!!!!!!!!!! THIS IS A TEMPORARY HACK FOR THE CUSTOMER NAMES !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>

            <span class="c1"># Build the graph HTML data</span>
            <span class="n">figure</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span><span class="p">,</span>
                      <span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="p">{</span>
                          <span class="s1">&#39;modebar&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;orientation&#39;</span><span class="p">:</span> <span class="s1">&#39;v&#39;</span><span class="p">},</span>
                          <span class="s1">&#39;legend&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;orientation&#39;</span><span class="p">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;font&#39;</span><span class="p">:</span> <span class="p">{</span>
                                          <span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span>
                                          <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">font_size_legend</span><span class="p">,</span>
                                          <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">}},</span>
                          <span class="s1">&#39;font&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">font_size_axis</span><span class="p">,</span>
                                   <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">},</span>
                          <span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;l&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_left</span><span class="p">,</span>
                                     <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_right</span><span class="p">,</span>
                                     <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_top</span><span class="p">,</span>
                                     <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_bottom</span><span class="p">}}}</span>

            <span class="c1"># Check if Toggle X-G is possible</span>
            <span class="n">toggle_poss</span> <span class="o">=</span> <span class="n">toggle_possible</span><span class="p">(</span><span class="n">x_choice</span><span class="p">,</span> <span class="n">g_choice</span><span class="p">,</span> <span class="n">g_items</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">toggle_poss</span><span class="p">:</span>
                <span class="n">mini_t_div</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Toggle&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;toggle_button&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mini_t_div</span> <span class="o">=</span> <span class="s2">&quot;Nicht möglich&quot;</span>

            <span class="n">cfg_graph</span><span class="o">.</span><span class="n">toggle</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="n">answer</span><span class="p">,</span> <span class="n">figure</span><span class="p">,</span> <span class="n">mini_t_div</span>

    <span class="c1"># ------------------------------------------</span>
    <span class="c1"># Button callback (Toggle Mini Container)</span>
    <span class="c1"># ------------------------------------------</span>
    <span class="nd">@dash_app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
        <span class="p">[</span><span class="n">Output</span><span class="p">(</span><span class="s1">&#39;wells&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
         <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;gas&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
         <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;oil&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s1">&#39;toggle_button&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">State</span><span class="p">(</span><span class="s1">&#39;x_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">State</span><span class="p">(</span><span class="s1">&#39;y_axis_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
         <span class="n">State</span><span class="p">(</span><span class="s1">&#39;graphs_choice&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)])</span>
    <span class="k">def</span> <span class="nf">toggle_mini_container</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">,</span> <span class="n">x_choice</span><span class="p">,</span> <span class="n">y_choice</span><span class="p">,</span> <span class="n">g_choice</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n_clicks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PreventUpdate</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">toggle</span><span class="p">:</span>
                <span class="n">m_x</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;X-Achse:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">x_choice</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_x&quot;</span><span class="p">)])</span>
                <span class="n">m_y</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Y-Achse:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">y_choice</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_y&quot;</span><span class="p">)])</span>
                <span class="n">m_g</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Graphen:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">g_choice</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_g&quot;</span><span class="p">)])</span>
                <span class="n">cfg_graph</span><span class="o">.</span><span class="n">toggle</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">return</span> <span class="n">m_x</span><span class="p">,</span> <span class="n">m_y</span><span class="p">,</span> <span class="n">m_g</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">m_x</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;X-Achse:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">g_choice</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_x&quot;</span><span class="p">)])</span>
                <span class="n">m_y</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Y-Achse:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">y_choice</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_y&quot;</span><span class="p">)])</span>
                <span class="n">m_g</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Graphen:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">x_choice</span><span class="p">]),</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mini_g&quot;</span><span class="p">)])</span>
                <span class="n">cfg_graph</span><span class="o">.</span><span class="n">toggle</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">return</span> <span class="n">m_x</span><span class="p">,</span> <span class="n">m_y</span><span class="p">,</span> <span class="n">m_g</span>

    <span class="c1"># ------------------------------------------</span>
    <span class="c1"># Button callback (Toggle Graph)</span>
    <span class="c1"># ------------------------------------------</span>
    <span class="nd">@dash_app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;countGraphContainer&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
        <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s1">&#39;toggle_button&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">)])</span>
    <span class="k">def</span> <span class="nf">toggle_graph_data</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n_clicks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PreventUpdate</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span> <span class="o">=</span> <span class="n">toggle_data</span><span class="p">(</span><span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span><span class="p">)</span>
            <span class="n">graph</span> <span class="o">=</span> <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span>
                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;graph_display&#39;</span><span class="p">,</span>
                        <span class="n">figure</span><span class="o">=</span><span class="p">{</span>
                            <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">graph_data</span><span class="p">,</span>
                            <span class="s1">&#39;layout&#39;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s1">&#39;xaxis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;category&#39;</span><span class="p">},</span>
                                <span class="s1">&#39;modebar&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;orientation&#39;</span><span class="p">:</span> <span class="s1">&#39;v&#39;</span><span class="p">},</span>
                                <span class="s1">&#39;legend&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;orientation&#39;</span><span class="p">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span>
                                           <span class="s1">&#39;font&#39;</span><span class="p">:</span> <span class="p">{</span>
                                                <span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">font_size_legend</span><span class="p">,</span>
                                                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span>
                                            <span class="p">}},</span>
                                <span class="s1">&#39;font&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span>
                                         <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">font_size_axis</span><span class="p">,</span>
                                         <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">},</span>
                                <span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;l&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_left</span><span class="p">,</span>
                                           <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_right</span><span class="p">,</span>
                                           <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_top</span><span class="p">,</span>
                                           <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">cfg_graph</span><span class="o">.</span><span class="n">margin_bottom</span><span class="p">}},</span>
                        <span class="p">},</span>
                        <span class="n">config</span><span class="o">=</span><span class="p">{</span>
                            <span class="s1">&#39;edits&#39;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s1">&#39;legendPosition&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                <span class="s1">&#39;legendText&#39;</span><span class="p">:</span> <span class="kc">True</span>
                            <span class="p">},</span>
                            <span class="s1">&#39;toImageButtonOptions&#39;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;svg&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="s1">&#39;custom_image&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">1080</span><span class="p">,</span>
                                <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">1920</span><span class="p">,</span>
                                <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span>
                        <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="s1">&#39;inherit&#39;</span><span class="p">})</span>

            <span class="k">return</span> <span class="n">graph</span>

    <span class="n">_protect_dashviews</span><span class="p">(</span><span class="n">dash_app</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">dash_app</span><span class="o">.</span><span class="n">server</span></div>


<div class="viewcode-block" id="toggle_possible"><a class="viewcode-back" href="../../../../api/Dashorder.webapp.dash.html#Dashorder.webapp.dash.dashexample.toggle_possible">[docs]</a><span class="k">def</span> <span class="nf">toggle_possible</span><span class="p">(</span><span class="n">x_choice</span><span class="p">,</span> <span class="n">g_choice</span><span class="p">,</span> <span class="n">g_items</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x_choice</span> <span class="o">==</span> <span class="s1">&#39;PRO&#39;</span> <span class="ow">or</span> <span class="n">x_choice</span> <span class="o">==</span> <span class="s1">&#39;SHO&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">g_choice</span> <span class="o">!=</span> <span class="s1">&#39;ALL&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">g_items</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="toggle_data"><a class="viewcode-back" href="../../../../api/Dashorder.webapp.dash.html#Dashorder.webapp.dash.dashexample.toggle_data">[docs]</a><span class="k">def</span> <span class="nf">toggle_data</span><span class="p">(</span><span class="n">graph_data</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Build graph axis</span>
    <span class="c1"># Gather all x_items, even when they&#39;re spread over the datasets</span>
    <span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">graph_data</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">x_item</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]:</span>
            <span class="n">contain</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">x_item</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">contain</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">contain</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x_item</span><span class="p">)})</span>

    <span class="c1"># Build x- and y-axis</span>
    <span class="k">for</span> <span class="n">graph_r</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">x_items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">y_items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">graph_name</span> <span class="o">=</span> <span class="n">graph_r</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">graph_d</span> <span class="ow">in</span> <span class="n">graph_data</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">graph_d_x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">graph_d</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]):</span>
                <span class="k">if</span> <span class="n">graph_d_x</span> <span class="o">==</span> <span class="n">graph_name</span><span class="p">:</span>
                    <span class="n">x_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">graph_d</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]))</span>
                    <span class="n">y_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">graph_d</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]))</span>
        <span class="n">graph_r</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">x_items</span>
        <span class="n">graph_r</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_items</span>

    <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="correct_items"><a class="viewcode-back" href="../../../../api/Dashorder.webapp.dash.html#Dashorder.webapp.dash.dashexample.correct_items">[docs]</a><span class="k">def</span> <span class="nf">correct_items</span><span class="p">(</span><span class="n">x_items</span><span class="p">,</span> <span class="n">y_items</span><span class="p">,</span> <span class="n">g_items</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x_items</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">x_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">x_items</span> <span class="o">=</span> <span class="n">x_items</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_items</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">x_items</span><span class="p">]</span>
    <span class="k">if</span> <span class="s1">&#39;ALL&#39;</span> <span class="ow">in</span> <span class="n">x_items</span><span class="p">:</span>
        <span class="n">x_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">y_items</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">y_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">y_items</span> <span class="o">=</span> <span class="n">y_items</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_items</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">y_items</span><span class="p">]</span>
    <span class="k">if</span> <span class="s1">&#39;ALL&#39;</span> <span class="ow">in</span> <span class="n">y_items</span><span class="p">:</span>
        <span class="n">y_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">g_items</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">g_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">g_items</span> <span class="o">=</span> <span class="n">g_items</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">g_items</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">g_items</span><span class="p">]</span>
    <span class="k">if</span> <span class="s1">&#39;ALL&#39;</span> <span class="ow">in</span> <span class="n">g_items</span><span class="p">:</span>
        <span class="n">g_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">x_items</span><span class="p">,</span> <span class="n">y_items</span><span class="p">,</span> <span class="n">g_items</span></div>


<div class="viewcode-block" id="convert_zin"><a class="viewcode-back" href="../../../../api/Dashorder.webapp.dash.html#Dashorder.webapp.dash.dashexample.convert_zin">[docs]</a><span class="k">def</span> <span class="nf">convert_zin</span><span class="p">(</span><span class="n">graph_data</span><span class="p">):</span>
    <span class="n">data_list</span> <span class="o">=</span> <span class="n">graph_data</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">:</span>
        <span class="n">x_dates</span> <span class="o">=</span> <span class="n">elem</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
        <span class="n">x_dates_new</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">single_date</span> <span class="ow">in</span> <span class="n">x_dates</span><span class="p">:</span>
            <span class="n">x_dates_new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">single_date</span><span class="p">))</span>
        <span class="n">graph_data</span><span class="p">[</span><span class="n">counter</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">x_dates_new</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">graph_data</span></div>


<span class="c1"># !!!!!!!!!!!!!!!!!!!!!! THIS IS A TEMPORARY HACK FOR THE CUSTOMER NAMES !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
<div class="viewcode-block" id="convert_kun"><a class="viewcode-back" href="../../../../api/Dashorder.webapp.dash.html#Dashorder.webapp.dash.dashexample.convert_kun">[docs]</a><span class="k">def</span> <span class="nf">convert_kun</span><span class="p">(</span><span class="n">graph_data</span><span class="p">):</span>
    <span class="n">bbhandler</span> <span class="o">=</span> <span class="n">BbHandler</span><span class="p">()</span>
    <span class="n">customer_names</span> <span class="o">=</span> <span class="n">bbhandler</span><span class="o">.</span><span class="n">get_customer_names</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">graph_data</span><span class="p">:</span>
        <span class="n">elem</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">customer_names</span><span class="p">[</span><span class="n">elem</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span>
    <span class="k">return</span> <span class="n">graph_data</span></div>
<span class="c1"># !!!!!!!!!!!!!!!!!!!!!! THIS IS A TEMPORARY HACK FOR THE CUSTOMER NAMES !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>


<div class="viewcode-block" id="get_div"><a class="viewcode-back" href="../../../../api/Dashorder.webapp.dash.html#Dashorder.webapp.dash.dashexample.get_div">[docs]</a><span class="k">def</span> <span class="nf">get_div</span><span class="p">(</span><span class="n">enable</span><span class="p">,</span> <span class="n">head</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">div_id</span><span class="p">,</span> <span class="n">stage</span><span class="p">,</span> <span class="n">stage_choices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">enable</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;g_B&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">([</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;graphs_items&#39;</span><span class="p">),</span>
                             <span class="n">html</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Anzeigen&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;graph_button&#39;</span><span class="p">),</span>
                             <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;temp_output&#39;</span><span class="p">)])</span>
        <span class="k">if</span> <span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;x_B&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;x_axis_items&#39;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">()</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;x_A&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;y_A&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;g_A&#39;</span><span class="p">):</span>
        <span class="n">header</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">H4</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
        <span class="n">data_fields</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s_c</span> <span class="ow">in</span> <span class="n">stage_choices</span><span class="p">:</span>
            <span class="n">data_fields</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">header_dict</span><span class="p">[</span><span class="n">s_c</span><span class="p">],</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">s_c</span><span class="p">})</span>

    <span class="k">elif</span> <span class="p">(</span><span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;x_B&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;y_B&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;g_B&#39;</span><span class="p">):</span>
        <span class="n">header</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">H6</span><span class="p">(</span><span class="n">header_dict</span><span class="p">[</span><span class="n">head</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">head</span> <span class="o">==</span> <span class="s1">&#39;PRO&#39;</span><span class="p">:</span>
            <span class="n">data_fields</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">dbhandler</span><span class="o">.</span><span class="n">getArticles</span><span class="p">()</span>
            <span class="n">data_fields</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Alles&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;ALL&#39;</span><span class="p">})</span>
            <span class="n">multi</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">head</span> <span class="o">==</span> <span class="s1">&#39;SHO&#39;</span><span class="p">:</span>
            <span class="n">data_fields</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">dbhandler</span><span class="o">.</span><span class="n">getShops</span><span class="p">()</span>
            <span class="n">data_fields</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Alles&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;ALL&#39;</span><span class="p">})</span>
            <span class="n">multi</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">head</span> <span class="o">==</span> <span class="s1">&#39;PLZ&#39;</span><span class="p">:</span>
            <span class="n">data_fields</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;0&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;2&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;3&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;4&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;5&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;6&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;7&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;8&#39;</span><span class="p">},</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;9&#39;</span><span class="p">}</span>
            <span class="p">]</span>
            <span class="n">data_fields</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Alles&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;ALL&#39;</span><span class="p">})</span>
            <span class="n">multi</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">head</span> <span class="o">==</span> <span class="s1">&#39;ZIN&#39;</span><span class="p">:</span>
            <span class="n">data_fields</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Alles&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;ALL&#39;</span><span class="p">}</span>
            <span class="p">]</span>
            <span class="n">multi</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">head</span> <span class="o">==</span> <span class="s1">&#39;KUN&#39;</span><span class="p">:</span>
            <span class="n">data_fields</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">dbhandler</span><span class="o">.</span><span class="n">getCustomers</span><span class="p">()</span>
            <span class="c1"># !!!!!!!!!!!!!!!!!!!!!! THIS IS A TEMPORARY HACK FOR THE CUSTOMER NAMES !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
            <span class="n">bbhandler</span> <span class="o">=</span> <span class="n">BbHandler</span><span class="p">()</span>
            <span class="n">customer_names</span> <span class="o">=</span> <span class="n">bbhandler</span><span class="o">.</span><span class="n">get_customer_names</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">data_dict</span> <span class="ow">in</span> <span class="n">data_fields</span><span class="p">:</span>
                <span class="n">data_dict</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">customer_names</span><span class="p">[</span><span class="n">data_dict</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]]</span>
            <span class="c1"># !!!!!!!!!!!!!!!!!!!!!! THIS IS A TEMPORARY HACK FOR THE CUSTOMER NAMES !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span>
            <span class="n">data_fields</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Alles&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;ALL&#39;</span><span class="p">})</span>
            <span class="n">multi</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">head</span> <span class="o">==</span> <span class="s1">&#39;TAG&#39;</span><span class="p">:</span>
            <span class="n">data_fields</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">dbhandler</span><span class="o">.</span><span class="n">getTags</span><span class="p">()</span>
            <span class="n">data_fields</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Alles&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;ALL&#39;</span><span class="p">})</span>
            <span class="n">multi</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">head</span> <span class="o">==</span> <span class="s1">&#39;KAT&#39;</span><span class="p">:</span>
            <span class="n">data_fields</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">dbhandler</span><span class="o">.</span><span class="n">getCategories</span><span class="p">()</span>
            <span class="n">data_fields</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Alles&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;ALL&#39;</span><span class="p">})</span>
            <span class="n">multi</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;x_A&#39;</span><span class="p">:</span>
        <span class="n">stage_div</span> <span class="o">=</span> <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;x_axis_B&#39;</span><span class="p">),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;y_axis_A&#39;</span><span class="p">)]</span>
        <span class="n">stage_id</span> <span class="o">=</span> <span class="s2">&quot;cross-filter-options&quot;</span>
        <span class="n">stage_cn</span> <span class="o">=</span> <span class="s2">&quot;pretty_container three columns&quot;</span>
    <span class="k">elif</span> <span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;x_B&#39;</span><span class="p">:</span>
        <span class="n">stage_div</span> <span class="o">=</span> <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">()]</span>
        <span class="n">stage_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">stage_cn</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">elif</span> <span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;y_A&#39;</span><span class="p">:</span>
        <span class="n">stage_div</span> <span class="o">=</span> <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;y_axis_B&#39;</span><span class="p">),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;graphs_A&#39;</span><span class="p">)]</span>
        <span class="n">stage_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">stage_cn</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">elif</span> <span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;g_A&#39;</span><span class="p">:</span>
        <span class="n">stage_div</span> <span class="o">=</span> <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;graphs_B&#39;</span><span class="p">)]</span>
        <span class="n">stage_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">stage_cn</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">elif</span> <span class="n">stage</span> <span class="o">==</span> <span class="s1">&#39;g_B&#39;</span><span class="p">:</span>
        <span class="n">stage_div</span> <span class="o">=</span> <span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Anzeigen&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;graph_button&#39;</span><span class="p">),</span>
                     <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;temp_output&#39;</span><span class="p">)]</span>
        <span class="n">stage_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">stage_cn</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">if</span> <span class="n">component</span> <span class="o">==</span> <span class="s1">&#39;dropdown&#39;</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                        <span class="p">[</span>
                           <span class="n">header</span><span class="p">,</span>
                           <span class="n">dcc</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
                               <span class="nb">id</span><span class="o">=</span><span class="n">div_id</span><span class="p">,</span>
                               <span class="n">multi</span><span class="o">=</span><span class="n">multi</span><span class="p">,</span>
                               <span class="n">options</span><span class="o">=</span><span class="n">data_fields</span><span class="p">,</span>
                               <span class="n">value</span><span class="o">=</span><span class="s1">&#39;ALL&#39;</span>
                           <span class="p">),</span>
                           <span class="n">stage_div</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                           <span class="n">stage_div</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                           <span class="n">stage_div</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                        <span class="p">],</span>
                        <span class="nb">id</span><span class="o">=</span><span class="n">stage_id</span><span class="p">,</span>
                        <span class="n">className</span><span class="o">=</span><span class="n">stage_cn</span>
                    <span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>

    <span class="k">elif</span> <span class="n">component</span> <span class="o">==</span> <span class="s1">&#39;radioitems&#39;</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                       <span class="p">[</span>
                           <span class="n">header</span><span class="p">,</span>
                           <span class="n">dcc</span><span class="o">.</span><span class="n">RadioItems</span><span class="p">(</span>
                               <span class="nb">id</span><span class="o">=</span><span class="n">div_id</span><span class="p">,</span>
                               <span class="n">options</span><span class="o">=</span><span class="n">data_fields</span><span class="p">,</span>
                               <span class="n">value</span><span class="o">=</span><span class="n">data_fields</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">],</span>
                               <span class="n">labelStyle</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;inline-block&#39;</span><span class="p">}</span>
                           <span class="p">),</span>
                           <span class="n">stage_div</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                           <span class="n">stage_div</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                           <span class="n">stage_div</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                       <span class="p">],</span>
                       <span class="nb">id</span><span class="o">=</span><span class="n">stage_id</span><span class="p">,</span>
                       <span class="n">className</span><span class="o">=</span><span class="n">stage_cn</span>
                   <span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span></div>
</pre></div>

           </div>

          </div>
          <footer>


  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Harald Heckmann, Thorsten Knoll

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>






</body>
</html>
